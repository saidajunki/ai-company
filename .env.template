# AI Company Manager — 環境変数テンプレート
# このファイルを .env にコピーして秘密情報を設定してください
# cp .env.template .env && chmod 600 .env

# === 会社設定 ===
COMPANY_ID=alpha
BASE_DIR=/opt/apps/ai-company/data
HEARTBEAT_INTERVAL=180
REPORT_INTERVAL=600
DAILY_BRIEF_INTERVAL=86400

# === 自律実行（autonomous tick） ===
AUTONOMOUS_ENABLED=1
AUTONOMOUS_TICK_INTERVAL=600
AUTONOMOUS_IDLE_GRACE_SECONDS=120
# 0で上限なし（長時間タスクは中断時に進捗レポート付きで停止し、再開可能）
AUTONOMOUS_MAX_TURNS=100
AUTONOMOUS_MAX_WALL_SECONDS=0

# === 予算（任意: constitution.yamlを優先） ===
BUDGET_LIMIT_USD=10
BUDGET_WINDOW_MINUTES=60

# === Slack連携 ===
SLACK_BOT_TOKEN=
SLACK_APP_TOKEN=
SLACK_CHANNEL_ID=C0AF21AFC14
CREATOR_SLACK_USER_ID=

# 詳細ログ（任意）
SLACK_ACTIVITY_LOG_ENABLED=1
SLACK_ACTIVITY_LOG_CHANNEL=C0AFPAYTLP4
SLACK_TRACE_ENABLED=1

# === LLM設定 ===
OPENROUTER_MODEL=openai/gpt-4.1-mini
OPENROUTER_API_KEY=
OPENROUTER_PRICING_AUTO_REFRESH=1

# === Sub-agent(社員AI) 実行ガード（任意） ===
# 0で上限なし（中断時はrun_id付き進捗レポートを返し、employee resumeで再開）
SUB_AGENT_MAX_TURNS=0
SUB_AGENT_MAX_WALL_SECONDS=0

# === Sub-agent(社員AI) モデル方針（任意） ===
# 役割/タスク内容に応じて自動選択します。必要ならここで上書き。
# 例: コーディングをClaudeに寄せたい場合
#   AI_COMPANY_MODEL_CODING=anthropic/claude-3.5-sonnet
AI_COMPANY_MODEL_GENERAL=openai/gpt-4.1-mini
AI_COMPANY_MODEL_CODING=openai/gpt-4.1
AI_COMPANY_MODEL_ANALYSIS=openai/gpt-4.1
AI_COMPANY_MODEL_INFRA=openai/gpt-4.1
AI_COMPANY_MODEL_RESEARCH=openai/gpt-4.1-mini
AI_COMPANY_MODEL_WRITING=openai/gpt-4.1-mini

# === Python環境 ===
PYTHONPATH=/opt/apps/ai-company/src

# === Web検索（researchツール） ===
AI_COMPANY_WEB_SEARCH_BACKEND=searxng
AI_COMPANY_SEARXNG_URL=http://127.0.0.1:8088

# === MCP（社内共通ツール） ===
# MCPサーバ設定: ${BASE_DIR}/companies/${COMPANY_ID}/protocols/mcp_servers.yaml
AI_COMPANY_MCP_DEFAULT_SERVER=vps-monitor
AI_COMPANY_MCP_VPS_MONITOR_TOKEN=

# === Newsroom Team（RSSニュース自動投稿） ===
NEWSROOM_TEAM_ENABLED=1
NEWSROOM_TICK_INTERVAL=3600
AI_COMPANY_NEWS_TEAM_INTERVAL_MINUTES=60
AI_COMPANY_NEWS_POST_BUDGET_USD=0.5
AI_COMPANY_NEWS_RESEARCH_MODEL=openai/gpt-4.1-mini
AI_COMPANY_NEWS_WRITER_MODEL=openai/gpt-4.1

# WordPress publish (XML-RPC)
AI_COMPANY_WP_XMLRPC_URL=https://app.babl.tech/xmlrpc.php
AI_COMPANY_WP_USERNAME=
AI_COMPANY_WP_PASSWORD=
AI_COMPANY_WP_ENV_FILE=/opt/apps/services/wordpress-app/.env

# === Alarm Scheduler（定期/単発の自律実行） ===
ALARM_SCHEDULER_ENABLED=1
ALARM_TICK_INTERVAL=30
